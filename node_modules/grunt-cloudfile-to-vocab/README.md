[![Build Status](https://travis-ci.org/BBCVisualJournalism/grunt-cloudfile-to-vocab.svg?branch=fix_tests)](https://travis-ci.org/BBCVisualJournalism/grunt-cloudfile-to-vocab)

cloudfile_to_vocab
==================

Processes any spreadsheet in the cloud into a set of vocab json files.

# Setup

* Add grunt-cloudfile-to-vocab as a dependency in your project's package.json
* In your Gruntfile.js, inside your grunt.initConfig(), add the following:

```json
    cloudfile_to_vocab: {
        default: {
            options: {
                output_directory:      'source/vocabs',
                google_spreadsheet_id: '--google spreadsheet id--',
                worksheets:            ['Sheet1'],
                whitelisted_services:  ['english', 'mundo'],
                username:              '--google username--',
                password:              '--google password--'
            }
        }
    }
```

Register a task, e.g.

```javascript
grunt.registerTask('make_vocabs',  ['cloudfile_to_vocab']);
```

# Usage

Create a Google spreadsheet and start populating it with content (see examples below).

Run your task to automatically generate vocab JSON files from a Google spreadsheet.

## Running tests

To run the tests add a google account user name and password into the grunt config file.

## Example input/output

### Input

NB: The 'ignore' in the left column ensures that that row is not included in the rendered output.

```
               | english               | persian
ignore         | Instructions go here. | ...
project_header | Hello, World!         | سلام جهان!
project_intro  | This is my intro...   | این مقدمه من است ...

```

### Output

english.json

```json
{
    "project_header": "Hello, World!",
    "project_intro": "This is my intro..."
}
```

persian.json

```json
{
    "project_header": "سلام جهان!",
    "project_intro": "این مقدمه من است ..."
}
```

You can now populate your project with these variables, thereby being able to deliver your project in a language-agnostic way, paving the way for delivering to multiple nationalities.

# Known issues

Make sure you are not on a proxy network or it cannot connect to Google.